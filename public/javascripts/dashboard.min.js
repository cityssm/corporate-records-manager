"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(){var e=exports.urlPrefix,r=document.getElementById("form--search"),s=document.getElementById("container--search"),t=function(t){t&&t.preventDefault(),cityssm.clearElement(s),s.innerHTML='<div class="has-text-grey has-text-centered"><i class="fas fa-4x fa-pulse fa-spinner" aria-hidden="true"></i><br />Searching Records...</div>',cityssm.postJSON(e+"/dashboard/doGetRecords",r,function(r){if(0!==r.records.length){var t=document.createElement("div");t.className="panel";for(var n=0,c=r.records;n<c.length;n++){var a=c[n],i=document.createElement("a");i.className="panel-block is-block",i.href=e+"/view/"+a.recordID.toString(),i.innerHTML="<strong>"+cityssm.escapeHTML(a.recordTitle)+"</strong><br />"+cityssm.escapeHTML(a.recordNumber)+'<br /><span class="is-size-7">'+cityssm.escapeHTML(a.recordDescription.length>500?a.recordDescription.substring(0,497)+" ...":a.recordDescription)+"</span>",t.appendChild(i)}s.innerHTML="",s.appendChild(t)}else s.innerHTML='<div class="message is-info"><div class="message-body">There are no records that match the search criteria.</div></div>'})};r.addEventListener("submit",t),document.getElementById("search--recordTypeKey").addEventListener("change",t),document.getElementById("search--searchString").addEventListener("change",t),t()}();