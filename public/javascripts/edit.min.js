"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(){var e=exports.urlPrefix,t=document.getElementById("record--recordID").value,n=""===t,a=document.getElementById("form--record"),s=function(){cityssm.enableNavBlocker()};a.addEventListener("submit",function(s){s.preventDefault();var r=e+(n?"/new/doCreate":"/edit/doUpdate");cityssm.postJSON(r,a,function(a){a.success&&n?window.location.href=e+"/records/"+t.toString():a.success&&!n?cityssm.alertModal("Record Updated Successfully","","OK","success"):cityssm.alertModal("Error While Saving",a.message,"OK","danger")})});var r=function(e){e.preventDefault();var t=e.currentTarget.closest(".tag"),n=t.getElementsByTagName("input")[0].value;cityssm.confirmModal("Remove Tag?",'Are you sure you want to remove the <span class="tag">'+cityssm.escapeHTML(n)+"</span> tag?","Yes, Remove the Tag","warning",function(){t.remove(),s()})};document.getElementById("is-add-tag-button").addEventListener("click",function(){var e,t=function(t){t.preventDefault();var n,a,o,c=document.getElementById("recordTagAdd--tag");""!==c.value?(n=c.value,a=cityssm.escapeHTML(n),(o=document.createElement("span")).className="tag is-medium",o.innerHTML='<input name="tags" type="hidden" value="'+a+'" /> '+a+' <button class="delete" type="button" aria-label="Remove Tag"></button>',o.getElementsByTagName("button")[0].addEventListener("click",r),document.getElementById("container--tags").insertAdjacentElement("afterbegin",o),s(),c.value="",c.focus()):e()};cityssm.openHtmlModal("tag-add",{onshown:function(n,a){e=a,document.getElementById("form--addTag").addEventListener("submit",t)}})});for(var o=document.getElementsByClassName("is-remove-tag-button"),c=0;c<o.length;c+=1)o[c].addEventListener("click",r)}(),function(){for(var e=function(e){e.preventDefault();var t=e.currentTarget.closest(".field").getElementsByTagName("input")[0],n=t.nextElementSibling.children;t.hasAttribute("readonly")?t.removeAttribute("readonly"):t.setAttribute("readonly","readonly");for(var a=0;a<n.length;a+=1)n[a].classList.toggle("is-hidden")},t=document.getElementsByClassName("is-lock-toggle-button"),n=0;n<t.length;n+=1)t[n].addEventListener("click",e)}();